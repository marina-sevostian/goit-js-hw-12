import{a as h,i as d,S as m}from"./assets/vendor-Qob_5Ba8.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();class g{constructor(){this.searchQuery="",this.page=1,this.per_page=15}async fetchImages(){const t={method:"get",url:"https://pixabay.com/api/",params:{key:"46729875-7729b8e358007a47de817f6d1",q:`${this.searchQuery}`,image_type:"photo",orientation:"horizontal",safesearch:!0,page:`${this.page}`,per_page:`${this.per_page}`}};try{const c=(await h(t)).data;return this.incrementPage(),c}catch{loader.classList.replace("loader","hide"),loadMoreBtn.classList.replace("load-more","hide"),d.error({title:"Error",message:"Error! Sorry, something went wrong. This is an error!",color:"#ef4040",close:!1})}}incrementPage(){this.page+=1}resetPage(){this.page=1}resetEndOfHits(){this.endOfHits=!1}get query(){return this.searchQuery}set query(t){this.searchQuery=t}}let y=document.querySelector(".gallery");function L(a){const t=a.map(e=>`<div class="photo">
   <a class="gallery-link" href="${e.largeImageURL}">
    <img
      class="gallery-image"
      src="${e.webformatURL}"
      data-source="${e.largeImageURL}"
      alt="${e.tags}"
    />
  </a>
  <div class="info">
  <p class="info-item">Likes <span class="info-item-num">${e.likes}</span></p>
  <p class="info-item">Views <span class="info-item-num">${e.views}</span></p>
  <p class="info-item">Comments <span class="info-item-num">${e.comments}</span></p>
  <p class="info-item">Downloads <span class="info-item-num">${e.downloads}</span></p>
  </div>
     </div> `).join("");y.insertAdjacentHTML("beforeend",t)}let w=document.querySelector(".gallery");document.querySelector(".search-form-btn");let p=document.querySelector(".search-form");document.querySelector(".search-form-input");let S=new m(".gallery a"),i=document.querySelector(".loader"),o=document.querySelector(".load-more");i.classList.replace("loader","hide");o.classList.replace("load-more","hide");let l=0;const n=new g;p.addEventListener("submit",q);o.addEventListener("click",$);function q(a){if(a.preventDefault(),v(),n.query=a.currentTarget.elements.searchQuery.value.trim(),i.classList.replace("hide","loader"),o.classList.replace("load-more","hide"),n.resetPage(),n.query!==""){l=0,f(),p.reset();return}else{i.classList.replace("loader","hide"),d.warning({title:"Caution",message:"You forgot important data! Enter something!",color:"#ffa000",close:!1});return}}async function f(){o.classList.replace("load-more","hide");const a=await n.fetchImages(),{hits:t,totalHits:e}=a;if(l+=t.length,!t.length){d.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!",color:"#ef4040",close:!1}),i.classList.replace("loader","hide"),o.classList.replace("load-more","hide");return}L(t),l+=t.length,S.refresh(),i.classList.replace("loader","hide"),l<e&&o.classList.replace("hide","load-more"),l>=e&&(o.classList.replace("load-more","hide"),d.error({title:"Error",message:"We're sorry, but you've reached the end of search results.",color:"#ef4040",close:!1}))}new m(".gallery a",{captions:!0,captionsData:"alt",captionDelay:250});function v(){w.innerHTML=""}function $(){n.incrementPage(),i.classList.replace("hide","loader"),o.classList.replace("load-more","hide"),f()}
//# sourceMappingURL=index.js.map
