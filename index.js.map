{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function fetchImages(inputValue) {\n  return fetch(\n    `https://pixabay.com/api/?key=46729875-7729b8e358007a47de817f6d1&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        if (response.status === 404) {\n          return [];\n        }\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      loader.classList.replace('loader', 'hide');\n      iziToast.error({\n        title: 'Error',\n        message: `Error! Sorry, something went wrong. This is an error!`,\n        color: '#ef4040',\n        close: false,\n      });\n    });\n}\n","let gallery = document.querySelector('.gallery');\n\nexport function renderImages(images) {\n  const markup = images\n    .map(image => {\n      return `<div class=\"photo\">\n   <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      data-source=\"${image.largeImageURL}\"\n      alt=\"${image.tags}\"\n    />\n  </a>\n  <div class=\"info\">\n  <p class=\"info-item\">Likes <span class=\"info-item-num\">${image.likes}</span></p>\n  <p class=\"info-item\">Views <span class=\"info-item-num\">${image.views}</span></p>\n  <p class=\"info-item\">Comments <span class=\"info-item-num\">${image.comments}</span></p>\n  <p class=\"info-item\">Downloads <span class=\"info-item-num\">${image.downloads}</span></p>\n  </div>\n     </div> `;\n    })\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n","import { fetchImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet gallery = document.querySelector('.gallery');\nconst fetchImagesBtn = document.querySelector('.search-form-btn');\nlet searchFormEl = document.querySelector('.search-form');\nlet inputForm = document.querySelector('.search-form-input');\nlet gallerySimpleLightbox = new SimpleLightbox('.gallery a');\nlet loader = document.querySelector('.loader');\n\nloader.classList.replace('loader', 'hide');\n\nsearchFormEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const inputValue = inputForm.value.trim();\n  cleanHtml();\n  loader.classList.replace('hide', 'loader');\n  if (inputValue !== '') {\n    fetchImages(inputValue)\n      .then(images => {\n        if (images.hits.length === 0) {\n          iziToast.error({\n            title: 'Error',\n            message: `Sorry, there are no images matching your search query. Please try again!`,\n            color: '#ef4040',\n            close: false,\n          });\n        }\n        renderImages(images.hits);\n        gallerySimpleLightbox.refresh();\n        loader.classList.replace('loader', 'hide');\n      })\n      .catch(error => {\n        loader.classList.replace('loader', 'hide');\n        iziToast.error({\n          title: 'Error',\n          message: `Error! Sorry, something went wrong. This is an error!`,\n          color: '#ef4040',\n          close: false,\n        });\n      });\n    searchFormEl.reset();\n  } else {\n    loader.classList.replace('loader', 'hide');\n    iziToast.warning({\n      title: 'Caution',\n      message: `You forgot important data! Enter something!`,\n      color: '#ffa000',\n      close: false,\n    });\n  }\n});\n\nnew SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nfunction cleanHtml() {\n  gallery.innerHTML = '';\n}\n\n// let loader = document.querySelector('.loader');\n\n// window.addEventListener('load', () => {\n//   loader.classList.add('.visually-hidden');\n//   setTimeout(() => {\n//     loader.remove();\n//   }, 600);\n// });\n// let loader = document.querySelector('.loader');\n// loader.classList.remove('.visually-hidden');\n// loader.classList.add('.visually-hidden');\n"],"names":["fetchImages","inputValue","response","error","iziToast","gallery","renderImages","images","markup","image","searchFormEl","inputForm","gallerySimpleLightbox","SimpleLightbox","loader","e","cleanHtml"],"mappings":"6vBAGO,SAASA,EAAYC,EAAY,CACtC,OAAO,MACL,qEAAqEA,CAAU,0DAChF,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GAAI,CAChB,GAAIA,EAAS,SAAW,IACtB,MAAO,GAET,MAAM,IAAI,MAAMA,EAAS,MAAM,CAChC,CACD,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,OAAO,UAAU,QAAQ,SAAU,MAAM,EACzCC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,wDACT,MAAO,UACP,MAAO,EACf,CAAO,CACP,CAAK,CACL,CCzBA,IAAIC,EAAU,SAAS,cAAc,UAAU,EAExC,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EACZ,IAAIE,GACI;AAAA,mCACsBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGzCA,EAAM,YAAY;AAAA,qBACVA,EAAM,aAAa;AAAA,aAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,2DAIoCA,EAAM,KAAK;AAAA,2DACXA,EAAM,KAAK;AAAA,8DACRA,EAAM,QAAQ;AAAA,+DACbA,EAAM,SAAS;AAAA;AAAA,aAGzE,EACA,KAAK,EAAE,EAEVJ,EAAQ,mBAAmB,YAAaG,CAAM,CAChD,CChBA,IAAIH,EAAU,SAAS,cAAc,UAAU,EACxB,SAAS,cAAc,kBAAkB,EAChE,IAAIK,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAY,SAAS,cAAc,oBAAoB,EACvDC,EAAwB,IAAIC,EAAe,YAAY,EACvDC,EAAS,SAAS,cAAc,SAAS,EAE7CA,EAAO,UAAU,QAAQ,SAAU,MAAM,EAEzCJ,EAAa,iBAAiB,SAAUK,GAAK,CAC3CA,EAAE,eAAc,EAChB,MAAMd,EAAaU,EAAU,MAAM,KAAI,EACvCK,IACAF,EAAO,UAAU,QAAQ,OAAQ,QAAQ,EACrCb,IAAe,IACjBD,EAAYC,CAAU,EACnB,KAAKM,GAAU,CACVA,EAAO,KAAK,SAAW,GACzBH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,MAAO,UACP,MAAO,EACnB,CAAW,EAEHE,EAAaC,EAAO,IAAI,EACxBK,EAAsB,QAAO,EAC7BE,EAAO,UAAU,QAAQ,SAAU,MAAM,CACjD,CAAO,EACA,MAAMX,GAAS,CACdW,EAAO,UAAU,QAAQ,SAAU,MAAM,EACzCV,EAAS,MAAM,CACb,MAAO,QACP,QAAS,wDACT,MAAO,UACP,MAAO,EACjB,CAAS,CACT,CAAO,EACHM,EAAa,MAAK,IAElBI,EAAO,UAAU,QAAQ,SAAU,MAAM,EACzCV,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8CACT,MAAO,UACP,MAAO,EACb,CAAK,EAEL,CAAC,EAED,IAAIS,EAAe,aAAc,CAC/B,aAAc,MACd,aAAc,GAChB,CAAC,EACD,SAASG,GAAY,CACnBX,EAAQ,UAAY,EACtB"}